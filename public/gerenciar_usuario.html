<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DENTEFIER - Gerenciamento de Usuários</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/gerenciar_usuario.css">
</head>
<body>
  <!-- Banner principal -->
  <div class="top-banner">
    <div class="banner-content">
      <div class="logo-container">
        <img src="images/logo_dentefier.png" alt="Logo DENTEFIER" class="main-logo">
      </div>
      <div class="banner-text">
        <h1>DENTEFIER</h1>
        <span class="origin-badge">Laudos e Perícias</span>
        <p>Sistema de Gerenciamento de Casos Odontolegais</p>
      </div>
    </div>
    <div class="accessibility-tools">
      <button class="access-btn" id="btn-contrast"><img src="images/icon-contrast.png" alt="Contraste"></button>
      <button class="access-btn" id="btn-font-increase"><img src="images/icon-font-increase.png" alt="Aumentar fonte"></button>
      <button class="access-btn" id="btn-font-decrease"><img src="images/icon-font-decrease.png" alt="Diminuir fonte"></button>
    </div>
  </div>
  
  <header>
    <nav>
      <ul>
        <li><a href="tela_inicio.html">HOME</a></li>
        <li><a href="gerenciar_casos.html">GERENCIAR CASOS</a></li>
        <li class="admin-only"><a href="gerenciar_usuario.html" class="active">USUÁRIOS</a></li>
        <li><a href="logout.html">SAIR</a></li>
      </ul>
    </nav>
  </header>
  
  <main class="container">
    <div class="welcome-section">
      <h2>Gerenciamento de Usuários</h2>
      <p class="user-role">Função: <span id="usuario-papel">–</span></p>
      <div class="date-info">
        <p>Data: <span id="current-date">–</span></p>
      </div>
    </div>

    <div class="user-management-container">
      <div class="action-bar">
        <h3>Lista de Usuários</h3>
        <button class="btn-add-user" onclick="window.location.href='cadastro_usuario.html'">
          <!-- ícone + texto -->
          Adicionar Novo Usuário
        </button>
      </div>

      <div class="filters-row">
        <div class="search-container">
          <input type="text" id="search-input" placeholder="Buscar por nome, email ou CPF..." onkeyup="filterUsers()">
          <!-- atribuímos o id aqui para o JS pegar -->
          <button id="search-btn" class="btn-view">Buscar</button>
        </div>

        <div class="filter-group">
          <label for="filter-tipo">Tipo:</label>
          <select id="filter-tipo">
            <option value="">Todos</option>
            <option value="admin">Administradores</option>
            <option value="perito">Peritos</option>
            <option value="assistente">Assistentes</option>
          </select>
        </div>
      </div>

      <div class="table-container">
        <table id="users-table">
          <thead>
            <tr>
              <th onclick="sortTable(0)">Nome <span class="sort-icon">▼</span></th>
              <th onclick="sortTable(1)">Email</th>
              <th onclick="sortTable(2)">Telefone</th>
              <th onclick="sortTable(3)">Tipo</th>
              <th onclick="sortTable(4)">Departamento</th>
              <th onclick="sortTable(5)">Data Cadastro</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="users-table-body"></tbody>  
        </table>
      </div>

      <div class="user-count">
        Exibindo <span id="users-count">0</span> de <span id="total-users">0</span> usuários
      </div>

      <div class="pagination" id="pagination"></div>
    </div>
  </main>

  
  <!-- Modal de confirmação para exclusão -->
  <div class="modal-overlay" id="delete-modal">
    <div class="modal-content">
      <h3 class="modal-title">Confirmar Exclusão</h3>
      <p class="modal-message">Tem certeza que deseja excluir o usuário <strong id="user-to-delete"></strong>?</p>
      <p>Esta ação não pode ser desfeita.</p>
      <div class="modal-actions">
        <button class="btn-cancel-modal" onclick="closeDeleteModal()">Cancelar</button>
        <button class="btn-confirm-modal" onclick="confirmDelete()">Confirmar Exclusão</button>
      </div>
    </div>
  </div>
  
  <!-- Notificação -->
  <div class="notification" id="notification">
    Operação realizada com sucesso!
  </div>
  
  <footer>
    <div class="footer-content">
      <div class="footer-logo">
        <img src="images/logo_dentefier.png" alt="Logo DENTEFIER">
        <span>DENTEFIER</span>
      </div>
      
      <div class="footer-origin">
        <p>© 2025 DENTEFIER - Sistema de Gerenciamento de Casos Odontolegais</p>
      </div>
    </div>
  </footer>
  <script src="js/gerenciar_usuario.js"></script>
</body>
</html>